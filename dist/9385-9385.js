"use strict";(self.webpackChunknextcloud=self.webpackChunknextcloud||[]).push([[9385],{49385:function(e,t,l){l.r(t),l.d(t,{confirm:function(){return p},filepicker:function(){return c}});var o=l(62520),n=l(25243),a=(l(52442),l(20144)),i=l(99513),u=l(59546),r=l(96384);const s=(e,t,l=(()=>{}))=>{const o=document.createElement("div");(document.querySelector(null==t?void 0:t.container)||document.body).appendChild(o);const n=new a.default({el:o,name:"VueDialogHelper",render:o=>o(e,{props:t,on:{close:()=>{l(),n.$destroy()}}})})};async function c(e,t,l=!1,a,i,c=n.a.Choose,p,m){const d=(e,t)=>{const o=e=>{const t=(null==e?void 0:e.root)||"";let l=(null==e?void 0:e.path)||"";return l.startsWith(t)&&(l=l.slice(t.length)||"/"),l};return l?l=>e(l.map(o),t):l=>e(o(l[0]),t)};let y;c===n.a.Custom?(y=[],(m.buttons||[]).forEach((e=>{y.push({callback:d(t,e.type),label:e.text,type:e.defaultButton?"primary":"secondary"})}))):y=(e,a)=>{var i,s,p;const m=[],y=(null==(s=null==(i=null==e?void 0:e[0])?void 0:i.attributes)?void 0:s.displayName)||(null==(p=null==e?void 0:e[0])?void 0:p.basename),v=y||(0,o.basename)(a);return c===n.a.Choose&&m.push({callback:d(t,n.a.Choose),label:y&&!l?(0,n.t)("Choose {file}",{file:y}):(0,n.t)("Choose"),type:"primary"}),(c===n.a.CopyMove||c===n.a.Copy)&&m.push({callback:d(t,n.a.Copy),label:v?(0,n.t)("Copy to {target}",{target:v}):(0,n.t)("Copy"),type:"primary",icon:u}),(c===n.a.Move||c===n.a.CopyMove)&&m.push({callback:d(t,n.a.Move),label:v?(0,n.t)("Move to {target}",{target:v}):(0,n.t)("Move"),type:c===n.a.Move?"primary":"secondary",icon:r}),m};const v={};"function"==typeof(null==m?void 0:m.filter)&&(v.filterFn=e=>m.filter((e=>{var t,l,o,n,a,i;return{id:e.fileid||null,path:e.path,mimetype:e.mime||null,mtime:(null==(t=e.mtime)?void 0:t.getTime())||null,permissions:e.permissions,name:(null==(l=e.attributes)?void 0:l.displayname)||e.basename,etag:(null==(o=e.attributes)?void 0:o.etag)||null,hasPreview:(null==(n=e.attributes)?void 0:n.hasPreview)||null,mountType:(null==(a=e.attributes)?void 0:a.mountType)||null,quotaAvailableBytes:(null==(i=e.attributes)?void 0:i.quotaAvailableBytes)||null,icon:null,sharePermissions:null}})(e)));const b="string"==typeof a?[a]:a||[];s(n.c,{...v,name:e,buttons:y,multiselect:l,path:p,mimetypeFilter:b,allowPickDirectory:!0===(null==m?void 0:m.allowDirectoryChooser)||b.includes("httpd/unix-directory")})}async function p(e,t,l,o){s(i.D,{name:t,message:e,buttons:[{label:"No",callback:()=>l(!1)},{label:"Yes",type:"primary",callback:()=>l(!0)}],size:"small"},(()=>l(!1)))}}}]);
//# sourceMappingURL=9385-9385.js.map?v=6efc9f8221ffe733f8cf